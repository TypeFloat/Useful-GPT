<html>

<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>输入输出示例</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    {% csrf_token %}
</head>

<body>
    <div class="container">
        <div class="left-pane">
            <h1>输入</h1>
            <form>
                <textarea id="input" rows="10" cols="50"></textarea>
            </form>
            <button id="btn">提交</button>
        </div>
        <div class="right-pane">
            <h1>输出</h1>
            <textarea id="output" rows="10" cols="50" readonly></textarea>
        </div>
    </div>

</body>

</html>

<script>
    $(document).ready(function () {
        $("#btn").click(function () {
            // 获取输入框的内容
            const inputText = $("#input").val();

            // 发送 AJAX 请求到服务器进行处理
            $.ajax({
                type: "POST",
                url: "/papers/process",
                data: { input: inputText, csrfmiddlewaretoken: '{{ csrf_token }}'},
                success: function (result) {
                    // 处理成功，将结果显示在输出框中
                    $("#output").val(result.content);
                }
            });
        });
    });
</script>